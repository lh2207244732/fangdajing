<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>放大镜案例</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .wrap {
            position: relative;
            width: 1080px;
            height: 1000px;
            margin: 100px auto;
            border: 1px solid #cccccc;
        }

        .wrap-big {
            position: absolute;
            width: 450px;
            height: 450px;
            top: 0;
            left: 0;
            border: 1px solid #cccccc;
        }

        .wrap-big img {
            width: 100%;
            height: 100%;
        }

        .wrap-big .mask {
            position: absolute;
            top: 0;
            left: 0;
            width: 100px;
            height: 100px;
            background-color: rgba(255, 255, 0, .5);
            display: none;
        }

        .wrap-small {
            position: absolute;
            top: 460px;
            left: 0;
        }

        .wrap-small li {
            float: left;
            width: 45px;
            height: 45px;
            list-style: none;
            opacity: 0.5;
        }

        .wrap-small li img {
            width: 100%;
            height: 100%;
        }

        .wrap-small .active {
            opacity: 1;
        }

        .wrap-large {
            position: absolute;
            width: 500px;
            height: 500px;
            top: 0;
            left: 452px;
            border: 1px solid #cccccc;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <div class="wrap">
        <div class="wrap-big" id="wrap-big">
            <img src="./imgs/big-001.jpg" alt="">
            <span class="mask" id="mask"></span>
        </div>
        <ul class="wrap-small">
            <li class="active">
                <img src="./imgs/small-001.jpg" alt="">
            </li>
            <li>
                <img src="./imgs/small-002.jpg" alt="">
            </li>
        </ul>
        <div class="wrap-large">
            <img src="./imgs/large-001.jpg" alt="">
        </div>
    </div>
</body>
<script>
    // 获取li 和big
    var smallImgs = document.querySelectorAll('.wrap-small li')
    var bigImg = document.querySelector('.wrap-big img')
    var largeImg = document.querySelector('.wrap-large img')
    var wrapBig = document.getElementById('wrap-big')
    var mask = document.getElementById('mask')
    // 遍历smallImg,获取其中的img
    for (var i = 0, len = smallImgs.length; i < len; i++) {
        // 当鼠标穿过事件触发
        smallImgs[i].index = i;
        smallImgs[i].onmouseover = function () {
            for (var j = 0; j < len; j++) {
                smallImgs[j].className = ''
            }
            this.className = 'active';
            bigImg.src = './imgs/big-00' + (this.index + 1) + '.jpg'
            largeImg.src = './imgs/large-00' + (this.index + 1) + '.jpg'
        }
    }
    wrapBig.onmouseover = function () {
        mask.style.display = 'block';
        wrapBig.onmousemove = function () {
            var w = event.pageX - mask.offsetLeft - mask.offsetWidth * 0.5
            var h = event.pageY - mask.offsetTop - mask.offsetHeight * 0.5
            mask.style.top = h + 'px';
            mask.style.left = w + 'px';
        }

    }

</script>

</html>